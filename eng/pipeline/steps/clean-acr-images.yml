# Copied from https://github.com/dotnet/docker-tools/blob/1ff076fcba565b85b6105eaa366d3684652e82a6/eng/pipelines/templates/steps/clean-acr-images.yml
# Filed https://github.com/dotnet/docker-tools/issues/849 to track moving it to eng/common to share.
parameters:
  repo: null
  action: null
  age: null
  customArgs: ""
steps:
  - script: >
      $(runImageBuilderCmd) cleanAcrImages
      ${{ parameters.repo }}
      $(acr.servicePrincipalName)
      $(app-dotnetdockerbuild-client-secret)
      $(acr.servicePrincipalTenant)
      $(acr.subscription)
      $(acr.resourceGroup)
      $(acr.server)
      --action ${{ parameters.action }}
      --age ${{ parameters.age }}
      ${{ parameters.customArgs }}
    displayName: Clean ACR Images - ${{ parameters.repo }}
