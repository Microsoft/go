From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: qmuntal <qmuntaldiaz@microsoft.com>
Date: Tue, 2 May 2023 17:51:57 +0200
Subject: [PATCH] wer

---
 src/runtime/syscall_windows_test.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/runtime/syscall_windows_test.go b/src/runtime/syscall_windows_test.go
index 8686d3f7f83925..7c5b6dd06ad94c 100644
--- a/src/runtime/syscall_windows_test.go
+++ b/src/runtime/syscall_windows_test.go
@@ -660,13 +660,13 @@ func TestWERDialogue(t *testing.T) {
 	cmd := testenv.CleanCmdEnv(exec.Command(os.Args[0], "-test.run=TestWERDialogue"))
 	cmd.Env = append(cmd.Env, "TEST_WER_DIALOGUE=1", "GOTRACEBACK=wer")
 	// Child process should not open WER dialogue, but return immediately instead.
-	_, err := cmd.CombinedOutput()
+	out, err := cmd.CombinedOutput()
 	if err == nil {
 		t.Error("test program succeeded unexpectedly")
 	} else if ee, ok := err.(*exec.ExitError); !ok {
 		t.Errorf("error (%v) has type %T; expected exec.ExitError", err, err)
 	} else if got := ee.ExitCode(); got != exitcode {
-		t.Fatalf("got exit code %d; want %d", got, exitcode)
+		t.Fatalf("got exit code %d; want %d: %v", got, exitcode, out)
 	}
 }
 
